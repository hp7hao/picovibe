# PICOVIBE

这是一个PICO-8的爱好者项目，为了方便国内爱好者相互交流，方便游戏分享，本项目致力于以下目标。

* 提供一些简单的工具以及类库
* 收集国内PICO-8爱好者开发的游戏作品

# 项目版权说明

本项目包含多个pico-8子项目，每个子项目的版权属于其署名的作者。
请确保在使用或分发这些项目时遵守相应的版权协议。

# 工具说明

## picoi18n
汉字显示的原理为，将点阵字体的点阵信息通过16进制的字符串保存在pico-8的代码中，然后用pset方法，将点阵信息画出来。因为需要借助外部工具，所以建议相关操作用Visual Studio Code来进行。
可以参考i18ndemo这个项目。
第一个文件 i18ndemo.zhcn.p8 在里面可以看到里面引用了 libs/i18n.lua 这个文件，这里面有一些工具方法，可以用他们进行文字点阵信息的解码操作。    
注意在这个p8文件中，有几行代码如下
```
function _draw()
	cls(1)
	_t("t0",1,1,7,0)
end
```
这里有一各对```_t```的调用，几个参数的说明如下
* 第一个参数 "t0" 表示一个字符串的代称，这个值可以随意给，但是每次调用它的时候，如果想要显示的文本不一样，那么这个代称也需要改变
* 第二个和第三个参数，这里给的是 1,1 表示绘制字符的位置，pico-8 分辨率为128x128, 那么这个1，1表示的就是左上角x=1,y=1的位置
* 第四个参数表示前景色，这里给的是7,代表白色
* 第五个参数表示背景色，这里给的是0,代表黑色

有了这个方法，你就可以像是调用pico-8里面的```print```方法一样来在你想要的地方输出字符串了，只不过```print```输出的直接是你想要的文字，而这里我们给一个代号，之后会有工具能够将代号转行成实际的文本

那么假设我想在屏幕x=1,y=1的位置显示一行文字，比如"PICO8太酷了！"，在有了对```_t```的调用之后，我们也有了一个代号叫**t0**，我们首先需要用工具把所有对```_t```的调用解析出来，提取出所有的代号。
在项目的根目录运行下面的方法。可以打开Visual Studio Code的控制台
```
# 第一个参数是语言代号，第二个参数是p8文件名
gen_tpl.bat zhch i18ndemo
```
运行完之后，会生成一个**i18ndemo.texts.zhcn.txt**文件，这个文件就是我们需要的模板文件，里面有我们需要的内容。一个空的，新生成的模板文件如下，如果有多次对```_t```的调用，就会有多行。
```
texts["t0"]=""
```
在这里，我们把想显示的文字填进去，这里就是我们做翻译的地方，每一个出现在```_t```调用里的代号，都会有一个文本和它对应。
```
texts["t0"]="PICO8太酷了！"
```
接下来我们使用工具对这几个文字进行编码。运行下面的命令
```
gen_lua.bat zhch i18ndemo
```
在运行完上面的命令后，会生成一个**i18ndemo.texts.zhcn.lua**文件，这个文件就是我们需要的lua文件，里面有我们需要的lua代码。产生的lua文件如下示例所示
```
lang="zhcn"
texts={}
texts["t0"]="1300032d4589432001702efa2a7aaa2e00120f828"
```
这个文件里面有我们文本的点阵编码。
最后在我们的项目文件**i18ndemo.zhcn.p8**中引用这个lua文件，然后运行我们的文件游戏，就能看到中文了。
```
#include ./i18ndemo.texts.zhcn.lua
```