## 2.4 SFX 编辑器

PICO-8 卡带中有 64 个 SFX（声音效果），用于声音和音乐。

每个 SFX 有 32 个音符，每个音符包含：
  频率   (C0..C5)  
  乐器   (0..7)  
  音量      (0..7)  
  效果     (0..7)  

每个 SFX 还有以下属性：

  播放速度 (SPD) : 每个音符播放的 'tick' 数。  
    // 这意味着 1 是最快，3 是 3 倍慢，等等。

    循环开始和结束 : 这是循环返回的音符索引  
    // 当开始索引 >= 结束索引时，循环关闭

当只使用两个数字中的第一个（第二个为 0）时，它表示要播放的音符数量。这通常不需要用于声音效果（可以留空剩余的音符），但对于控制音乐播放很有用。

有 2 种模式用于编辑/查看 SFX：音高模式（更适合声音效果）和跟踪模式（更适合音乐）。可以通过左上角的按钮更改模式，或使用 TAB 切换。

### ▨ 音高模式

在音高区域点击并拖动以设置每个音符的频率，使用当前选定的乐器（由颜色指示）。

按住 shift 只应用选定的乐器。  
按住 CTRL 将输入的音符对齐到 C 小调五声音阶。  
右键点击抓取该音符的乐器。  

### ▨ 跟踪模式

每个音符显示：频率 八度 乐器 音量 效果  
要输入一个音符，使用 q2w3er5t6y7ui zsxdcvgbhnjm（钢琴布局）  
输入音符时按住 shift 转移 -1 八度 .. +1 八度  
新音符将获得选定的乐器/效果值  
要删除一个音符，使用 backspace 或将音量设置为 0  

点击并然后 shift-点击以选择一个范围，可以复制（CTRL-C）和粘贴（CTRL-V）。请注意，只有选定的属性会被复制。双击选择单个音符的所有属性。

导航：  
  PAGEUP/DOWN 或 CTRL-UP/DOWN 跳过 4 个音符  
  HOME/END 跳转到第一个或最后一个音符  
  CTRL-LEFT/RIGHT 跳过列  

### ▨ 两种模式的控制

\- + 导航当前 SFX  
< > 更改速度。SPACE 播放/停止  
SHIFT-SPACE 从当前 SFX 四分之一（8 个音符）播放  
A 释放循环采样  
左键或右键点击增加 / 减少 SPD 或 LOOP 值  
  // 按住 shift 点击增加 / 减少 4  
  // 或者点击并拖动左右或上下  
Shift-点击乐器、效果或音量以应用到所有音符。  

### ▨ 效果

0 无  
1 滑音          //  滑到下一个音符和音量  
2 颤音        //  在一个四分之一音内快速变化音高  
3 下降           //  快速降低频率到很低的值  
4 渐入        //  从 0 升音量  
5 渐出       //  将音量降到 0  
6 快琶音  //  以速度 4 迭代 4 个音符组  
7 慢琶音  //  以速度 8 迭代 4 个音符组  

如果 SFX 速度 <= 8，琶音速度减半为 2, 4

### ▨ 滤波器

每个 SFX 在跟踪模式下有 5 个滤波器开关：

NOIZ:      生成纯白噪声（仅适用于乐器 6）  
BUZZ:      各种波形变化，使声音更像蜂鸣声  
DETUNE-1:  调音第二个声音以创建类似颤音的效果  
DETUNE-2:  各种第二个声音调音，大多上下八度  
REVERB:    应用延迟为 2 或 4 ticks 的回声  
DAMPEN:    两级低通滤波器  

当使用 BUZZ 和乐器 6，且 NOIZ 关闭时，生成纯棕色噪声。